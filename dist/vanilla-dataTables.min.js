/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: v2.0.0-alpha.23
 *
 */
!function(e,t){var n="DataTable";"object"==typeof exports?module.exports=t(n):"function"==typeof define&&define.amd?define([],t(n)):e[n]=t(n)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t=window,n=document,s=n.body,a="classList"in s,i=!!/(msie|trident)/i.test(navigator.userAgent),r={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,search:{includeHiddenColumns:!1},classes:{top:"dt-top",info:"dt-info",input:"dt-input",table:"dt-table",bottom:"dt-bottom",search:"dt-search",sorter:"dt-sorter",wrapper:"dt-wrapper",dropdown:"dt-dropdown",ellipsis:"dt-ellipsis",selector:"dt-selector",container:"dt-container",pagination:"dt-pagination"},labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}},o=["editable","exportable","filterable"],l=function(e){return"[object Object]"===Object.prototype.toString.call(e)},c=function(e){return Array.isArray(e)},d=function(e){var t=!1;try{t=JSON.parse(e)}catch(e){return!1}return!(null===t||!c(t)&&!l(t))&&t},h=function(e,t){return e.hasOwnProperty(t)},u=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];s&&l(s)?(e[n]=e[n]||{},u(e[n],s)):e[n]=s}return e},f=function(e,t,n){var s;if(l(e))for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(n,e[s],s);else if(c(e))for(s=0;s<e.length;s++)t.call(n,e[s],s);else for(s=0;s<e;s++)t.call(n,s+1,s)},p=function(e,t){var s=n.createElement(e);if(t&&"object"==typeof t){var a;for(a in t)"html"===a?s.innerHTML=t[a]:a in s?s[a]=t[a]:s.setAttribute(a,t[a])}return s},g=function(e,t,n){e.addEventListener(t,n,!1)},b=function(e){if(i)for(;e.hasChildNodes();)e.removeChild(e.lastChild);else e.innerHTML=""},v={add:function(e,t){a?e.classList.add(t):v.contains(e,t)||(e.className=e.className.trim()+" "+t)},remove:function(e,t){a?e.classList.remove(t):v.contains(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},contains:function(e,t){return a?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},toggle:function(e,t,n){t+="";var s=this.contains(e,t),a=s?!0!==n&&"remove":!1!==n&&"add";return a&&this[a](e,t),!0===n||!1===n?n:!s}},m={each:f,extend:u,isObject:l,classList:v,createElement:p},w=function(e,n,s,a){var i=!1;if(n&&t.moment)switch(n){case"ISO_8601":i=moment(e,moment.ISO_8601).format("YYYYMMDD");break;case"RFC_2822":i=moment(e,"ddd, DD MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");break;case"MYSQL":i=moment(e,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");break;case"UNIX":i=moment(parseInt(e,10)).unix();break;default:i=moment(e,n).format("YYYYMMDD")}else i=new Date(e).getTime();return i},x=function(e,t){this.node=e,this.content=this.originalContent=e.innerHTML,this.hidden=!1,this.index=this.node.dataIndex=t,this.originalContent=this.content};x.prototype.setContent=function(e){this.content=this.node.innerHTML=e};var y=function(e,t){c(e)?(this.node=p("tr"),f(e,function(e,t){this.node.appendChild(p("td",{html:e}))},this)):(this.node=e,void 0!==t&&(this.isHeader="THEAD"===e.parentNode.nodeName)),this.isHeader||void 0===t||(this.index=this.node.dataIndex=t-1),this.cells=[].slice.call(this.node.cells).map(function(e,t){return new x(e,t,this)},this)},C=function(e,t,s){if(this.node=e,"string"==typeof e&&(this.node=n.querySelector(e)),t&&this.build(t),this.rows=[].slice.call(this.node.rows).map(function(e,t){return new y(e,t,this)},this),this.body=this.node.tBodies[0],this.body||(this.body=p("tbody"),this.node.appendChild(this.body)),this.rows.length&&(this.rows[0].isHeader?(this.hasHeader=!0,this.header=this.rows[0],this.head=this.header.node.parentNode,this.rows.shift(),s.config.sortable&&f(this.header.cells,function(e){v.add(e.node,s.config.classes.sorter)})):this.addHeader()),s.config.header||this.head.removeChild(this.header.node),s.config.footer){this.hasFooter=!0,this.footer=new y(this.header.node.cloneNode(!0));var a=p("tfoot");a.appendChild(this.footer.node),f(this.footer.cells,function(e){v.remove(e.node,s.config.classes.sorter)}),this.node.insertBefore(a,this.body)}};C.prototype={build:function(e){var t=!1,n=!1;if(e.headings){t=p("thead");var s=p("tr");f(e.headings,function(e){var t=p("th",{html:e});s.appendChild(t)}),t.appendChild(s)}e.data&&e.data.length&&(n=p("tbody"),f(e.data,function(e){var t=p("tr");f(e,function(e){var n=p("td",{html:e});t.appendChild(n)}),n.appendChild(t)})),t&&(null!==this.node.tHead&&this.node.removeChild(this.node.tHead),this.node.appendChild(t)),n&&(this.node.tBodies.length&&this.node.removeChild(this.node.tBodies[0]),this.node.appendChild(n))},addHeader:function(e,t){var n=p("thead"),s=p("tr");e=e||this.rows[0].cells,f(e,function(e){s.appendChild(p("th"))}),n.appendChild(s),this.head=n,this.header=new y(s,1),this.hasHeader=!0,t&&(this.node.contains(this.header.node)||this.node.insertBefore(n,this.body))},addRow:function(e,t,n){if(e instanceof y)return this.rows.splice(t||0,0,e),this.hasHeader||this.addHeader(),n&&this.update(),e},removeRow:function(e,t){e instanceof y&&(this.rows.splice(this.rows.indexOf(e),1),t&&this.update())},update:function(e){f(this.rows,function(e,t){e.index=e.node.dataIndex=t})}};var P=function(e,t){this.instance=e,this.parent=t};P.prototype={render:function(e){var t=this,n=t.instance,s=n.config;if(e=e||n.totalPages,b(t.parent),e>1){var a="pager",i=p("ul"),r=n.onFirstPage?1:n.currentPage-1,o=n.onlastPage?e:n.currentPage+1;s.firstLast&&i.appendChild(t.button(a,1,s.firstText)),s.nextPrev&&i.appendChild(t.button(a,r,s.prevText));var l=t.truncate();f(l,function(e){i.appendChild(e)}),s.nextPrev&&i.appendChild(t.button(a,o,s.nextText)),s.firstLast&&i.appendChild(t.button(a,e,s.lastText)),t.parent.appendChild(i)}},truncate:function(){var e,t=this,n=t.instance.config,s=2*n.pagerDelta,a=t.instance.currentPage,i=a-n.pagerDelta,r=a+n.pagerDelta,o=t.instance.totalPages,l=[],c=[];if(n.truncatePager){a<4-n.pagerDelta+s?r=3+s:a>o-(3-n.pagerDelta+s)&&(i=o-(2+s));for(var d=1;d<=o;d++)(1==d||d==o||d>=i&&d<=r)&&l.push(d);f(l,function(s){e&&(s-e==2?c.push(t.button("",e+1,e+1)):s-e!=1&&c.push(t.button(n.classes.ellipsis,0,n.ellipsisText,!0))),c.push(t.button(s==a?"active":"",s,s)),e=s})}else f(o,function(e){c.push(t.button(e==a?"active":"",e,e))});return c},button:function(e,t,n,s){return p("li",{class:e,html:s?"<span>"+n+"</span>":'<a href="#" data-page="'+t+'">'+n+"</a>"})}};var D=function(e,t){this.instance=e,void 0!==t?isNaN(t)?c(t)&&(this.select=t):this.select=[t]:this.select=e.table.rows.map(function(e){return e.index})};D.prototype={init:function(){},count:function(){return this.instance.table.rows.length},render:function(e){var t=this.instance;if(e=e||t.currentPage,b(t.table.body),!(e<1||e>t.totalPages)){var s=t.table.header,a=n.createDocumentFragment();t.table.hasHeader&&(b(s.node),f(s.cells,function(e){e.hidden||s.node.appendChild(e.node)})),t.pages.length&&f(t.pages[e-1],function(e){b(e.node),f(e.cells,function(t){t.hidden||e.node.appendChild(t.node)}),a.append(e.node)}),t.table.body.appendChild(a),f(t.pagers,function(e){e.render()}),t.getInfo(),1==t.currentPage&&t.fixHeight(),t.emit("rows.render")}},paginate:function(){var e=this.instance.config,t=this.instance.table.rows,n=this.instance;n.searching&&n.searchData&&(t=n.searchData),n.pages=t.map(function(n,s){return s%e.perPage==0?t.slice(s,s+e.perPage):null}).filter(function(e){return e}),n.totalPages=n.pages.length,n.currentPage>n.totalPages&&(n.currentPage=n.totalPages)},add:function(e,t){if(c(e))return t=t||0,c(e[0])?(f(e,function(e){e=this.instance.table.addRow(new y(e,this.instance.columns().count()+1),t)},this),this.instance.table.update()):e=this.instance.table.addRow(new y(e,this.instance.columns().count()+1),t,!0),this.instance.update(),e},remove:function(e){var t=!1,n=this.instance;if(c(e)){for(var s=e.length-1;s>=0;s--)n.table.removeRow(this.get(e[s]));n.table.update(),n.update()}else if(t=this.get(e))return n.table.removeRow(t,!0),n.update(),t},cells:function(){var e=this,t=[];return 1==this.select.length&&(this.select=this.select[0]),f(this.instance.table.rows,function(n){(c(e.select)&&e.select.indexOf(n.index)>=0||e.select==n.index)&&t.push(n.cells)}),t},get:function(e){var t=this.instance.table.rows;if(e instanceof y||e instanceof Element){for(var n=0;n<t.length;n++)if(t[n].node===e||t[n]===e){e=t[n];break}}else e=t[e];return e}};var H=function(e,t){this.instance=e,void 0!==t?isNaN(t)?c(t)&&(this.select=t):this.select=[t]:e.table.hasheader&&(this.select=e.table.header.cells.map(function(e){return e.index}))};H.prototype={init:function(){var e=this.instance,t=e.config;if(e.table.hasHeader&&f(e.table.header.cells,function(e){v.add(e.node,t.classes.sorter)}),t.columns){var n=[],s=[];f(t.columns,function(a){isNaN(a.select)||(a.select=[a.select]),h(a,"render")&&"function"==typeof a.render&&(n=n.concat(a.select),s.push({columns:a.select,renderer:a.render})),e.table.hasHeader&&(f(e.table.header.cells,function(e){v.add(e.node,t.classes.sorter)}),f(a.select,function(n){var s=e.table.header.cells[n];a.type&&s.node.setAttribute("data-type",a.type),a.format&&s.node.setAttribute("data-format",a.format),h(a,"sortable")&&(s.node.setAttribute("data-sortable",a.sortable),!1===a.sortable&&v.remove(s.node,t.classes.sorter)),h(a,"hidden")&&!1!==a.hidden&&e.columns().hide(n),h(a,"sort")&&1===a.select.length&&e.columns().sort(a.select[0],a.sort)}))}),n.length&&f(e.table.rows,function(t){f(t.cells,function(a){n.indexOf(a.index)>=0&&f(s,function(n){n.columns.indexOf(a.index)>=0&&a.setContent(n.renderer.call(e,a.content,a,t))})})})}t.fixedColumns&&e.table.hasHeader&&this.fix(!0)},count:function(){return this.instance.table.header.cells.length},sort:function(e,t){var n=this.instance;if(e=e||0,t=t||(t=n.lastDirection&&"asc"===n.lastDirection?"desc":"asc"),e<0||e>n.table.header.cells.length-1)return!1;var s=n.table.header.cells[e].node,a=n.table.rows;n.searching&&n.searchData&&(a=n.searchData),n.lastHeading&&v.remove(n.lastHeading,n.lastDirection),n.lastDirection&&v.remove(s,n.lastDirection),v.add(s,t);var i,r;s.hasAttribute("data-type")&&"date"===s.getAttribute("data-type")&&(i=!1,(r=s.hasAttribute("data-format"))&&(i=s.getAttribute("data-format"))),a.sort(function(n,s){var a=n.cells[e].content,o=s.cells[e].content;return r?(a=w(a,i,n.cells[e]),o=w(o,i,s.cells[e])):(a=a.replace(/(\$|\,|\s|%)/g,""),o=o.replace(/(\$|\,|\s|%)/g,"")),a=isNaN(a)?a:parseInt(a,10),o=isNaN(o)?o:parseInt(o,10),"asc"===t?a>o:a<o}),n.table.update(),n.update(),n.lastHeading=s,n.lastDirection=t,n.emit("columns.sort",t,e,s),v.remove(s,"loading")},search:function(e,t){this.instance.search(t,e)},order:function(e){var t=this.instance;if(c(e)){for(var n=0;n<e.length;n++)if(e[n]>=t.columns().count())throw new Error("Column index "+e[n]+" is outside the range of columns.");var s=function(t){var n=[];f(e,function(e,s){n[s]=t.cells[e],n[s].index=n[s].node.dataIndex=s,t.node.appendChild(n[s].node)}),t.cells=n};t.table.hasHeader&&s(t.table.header),t.table.hasFooter&&s(t.table.footer),f(t.table.rows,function(e){s(e)}),t.update(),t.emit("columns.order",e)}},hide:function(){var e=this.instance,t=e.table.header,n=e.table.rows;f(this.select,function(e){f(t.cells,function(t){e==t.index&&(t.hidden=!0)}),f(n,function(t){f(t.cells,function(t){e==t.index&&(t.hidden=!0)})})}),this.fix(!0),e.update(),e.emit("columns.hide",this.select)},show:function(){var e=this.instance,t=e.table.header,n=e.table.rows;f(this.select,function(e){f(t.cells,function(t){e==t.index&&(t.hidden=!1)}),f(n,function(t){f(t.cells,function(t){e==t.index&&(t.hidden=!1)})})}),this.fix(!0),e.update(),e.emit("columns.show",this.select)},visible:function(){var e=this.instance.table.header,t=[];return f(this.select,function(n){t.push(!e.cells[n].hidden)}),t},add:function(e){var t=this.instance;if(l(e)){if(h(e,"heading")){var n=new x(p("th"),t.columns().count());n.setContent(e.heading),t.table.header.node.appendChild(n.node),t.table.header.cells.push(n)}h(e,"data")&&c(e.data)&&f(t.table.rows,function(t,n){var s=new x(p("td"),t.cells.length);s.setContent(e.data[n]||""),t.node.appendChild(s.node),t.cells.push(s)})}this.fix(!0),t.update(),t.emit("columns.add")},remove:function(e,t){var n=this.instance,s=n.table,a=s.header;if(c(e))return e.sort(function(e,t){return t-e}),void f(e,function(t,n){this.remove(t,n<e.length-1)},this);a.node.removeChild(a.cells[e].node),a.cells.splice(e,1),f(s.rows,function(t){t.node.removeChild(t.cells[e].node),t.cells.splice(e,1)}),t||(f(a.cells,function(e,t){e.index=e.node.dataIndex=t}),f(s.rows,function(e){f(e.cells,function(e,t){e.index=e.node.dataIndex=t})}),this.fix(!0),n.update()),n.emit("columns.remove",e)},fix:function(e){var t=this.instance,n=t.table,s=n.header;e&&n.hasHeader&&t.config.fixedColumns&&(t.columnWidths=s.cells.map(function(e){return e.node.offsetWidth})),f(t.columnWidths,function(e,n){s.cells[n].node.style.width=e/t.rect.width*100+"%"})},cells:function(){var e=this,t=[];return 1==this.select.length&&(this.select=this.select[0]),f(this.instance.table.rows,function(n,s){c(e.select)&&(t[s]=[]),f(n.cells,function(n){c(e.select)&&e.select.indexOf(n.index)>=0?t[s].push(n):e.select==n.index&&t.push(n)})}),t}};var N=function(e,t){if(this.config=u(r,t),this.node=e,this.config.ajax){var n=this,s=this.config.ajax;this.request=new XMLHttpRequest,g(this.request,"load",function(t){if(4===n.request.readyState&&200===n.request.status){var a={};a.data=s.load?s.load.call(n,n.request):n.request.responseText,a.type="json",s.content&&s.content.type&&(a.type=s.content.type,a=u(a,s.content)),n.table=new C(e,a.data,n),n.init()}}),this.request.open("GET","string"==typeof s?n.config.ajax:n.config.ajax.url),this.request.send()}else this.config.data?this.table=new C(e,this.config.data,this):this.table=new C(e,!1,this),this.init()};return N.prototype={init:function(){if(!this.initialised){var e=this,t=e.config;e.sortable=t.sortable,e.searchable=t.searchable,e.currentPage=1,e.onFirstPage=!0,e.onLastPage=!1,e.rows().paginate(),e.totalPages=e.pages.length,e.render(),t.fixedColumns&&e.table.hasHeader&&e.columns().fix(),e.extend(),t.plugins&&f(t.plugins,function(t,n){void 0!==e[n]&&"function"==typeof e[n]&&(e[n]=e[n](e,t,m),t.enabled&&e[n].init&&"function"==typeof e[n].init&&e[n].init())}),e.columns().init(),e.rows().render(),e.bindEvents(),e.setClasses(),e.initialised=!0,setTimeout(function(){e.emit("init")},10)}},setClasses:function(){v.toggle(this.wrapper,"dt-sortable",this.sortable),v.toggle(this.wrapper,"dt-searchable",this.searchable)},extend:function(){var e=this;f(o,function(t){void 0!==e[t]&&"function"==typeof e[t]&&(e[t]=e[t](e,e.config[t],m),e[t].init&&"function"==typeof e[t].init&&e[t].init())})},bindEvents:function(){var e=this,t=e.config;g(e.wrapper,"mousedown",function(t){1===t.which&&e.sortable&&"TH"===t.target.nodeName&&v.add(t.target,"loading")}),g(e.wrapper,"click",function(n){var s=n.target;if(s.hasAttribute("data-page")&&(n.preventDefault(),e.page(parseInt(s.getAttribute("data-page"),10))),e.sortable&&"TH"===s.nodeName&&v.contains(s,t.classes.sorter)){if(s.hasAttribute("data-sortable")&&"false"===s.getAttribute("data-sortable"))return!1;n.preventDefault(),e.columns().sort(s.dataIndex,v.contains(s,"asc")?"desc":"asc")}}),t.perPageSelect&&g(e.wrapper,"change",function(n){var s=n.target;"SELECT"===s.nodeName&&v.contains(s,t.classes.selector)&&(n.preventDefault(),e.setPerPage(s.value))}),e.searchable&&g(e.wrapper,"keyup",function(n){"INPUT"===n.target.nodeName&&v.contains(n.target,t.classes.input)&&(n.preventDefault(),e.search(n.target.value))}),e.sortable&&g(e.wrapper,"mousedown",function(e){"TH"===e.target.nodeName&&e.preventDefault()})},render:function(){if(!this.rendered){var e=this,t=e.config;this.table.hasHeader&&t.fixedColumns&&t.header&&(this.columnWidths=this.table.header.cells.map(function(e){return e.node.offsetWidth})),e.wrapper=p("div",{class:t.classes.wrapper});var n=["<div class='",t.classes.top,"'>",t.layout.top,"</div>","<div class='",t.classes.container,"'></div>","<div class='",t.classes.bottom,"'>",t.layout.bottom,"</div>"].join("");if(n=n.replace("{info}","<div class='"+t.classes.info+"'></div>"),t.perPageSelect){var s=["<div class='",t.classes.dropdown,"'>","<label>",t.labels.perPage,"</label>","</div>"].join(""),a=p("select",{class:t.classes.selector});f(t.perPageSelect,function(e){var n=e===t.perPage,s=new Option(e,e,n,n);a.add(s)}),s=s.replace("{select}",a.outerHTML),n=n.replace(/\{select\}/g,s)}else n=n.replace(/\{select\}/g,"");if(e.searchable){var i=["<div class='",t.classes.search,"'>","<input class='",t.classes.input,"' placeholder='",t.labels.placeholder,"' type='text'>","</div>"].join("");n=n.replace(/\{search\}/g,i)}else n=n.replace(/\{search\}/g,"");e.table.node.classList.add(t.classes.table),f(n.match(/\{pager\}/g),function(e,s){n=n.replace("{pager}",p("div",{class:t.classes.pagination}).outerHTML)}),e.wrapper.innerHTML=n,e.pagers=[].slice.call(e.wrapper.querySelectorAll("."+t.classes.pagination)),f(e.pagers,function(t,n){e.pagers[n]=new P(e,t)}),e.container=e.wrapper.querySelector("."+t.classes.container),e.labels=e.wrapper.querySelectorAll("."+t.classes.info),e.inputs=e.wrapper.querySelectorAll("."+t.classes.input),e.selectors=e.wrapper.querySelectorAll("."+t.classes.selector),e.table.node.parentNode.replaceChild(e.wrapper,e.table.node),e.container.appendChild(e.table.node),e.rect=e.table.node.getBoundingClientRect(),e.rendered=!0}},update:function(){this.rows().paginate(),this.rows().render(),this.emit("update")},fixHeight:function(){this.container.style.height=null,this.config.fixedHeight&&(this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")},getInfo:function(e){var t,n=0,s=0,a=0;if(e?(a=(s=(n=e.page-1)*e.perpage)+e.data.length,s+=1,t=e.rows):this.totalPages&&(a=(s=(n=this.currentPage-1)*this.config.perPage)+this.pages[n].length,s+=1,t=this.searching?this.searchData.length:this.rows().count()),this.labels.length&&this.config.labels.info.length){var i=this.config.labels.info.replace("{start}",s).replace("{end}",a).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",t);f([].slice.call(this.labels),function(e){e.innerHTML=t?i:""})}},search:function(e,t){var n=this;if(e=e.toLowerCase(),n.currentPage=1,n.searching=!0,n.searchData=[],!e.length)return n.searching=!1,v.remove(n.wrapper,"search-results"),n.update(),!1;f(n.table.rows,function(s){var a=n.searchData.indexOf(s)>=0;void 0!==t?f(s.cells,function(i){void 0===t||i.index!=t||a||i.content.toLowerCase().indexOf(e)>=0&&n.searchData.push(s)}):e.split(" ").reduce(function(e,t){for(var a=!1,i=0;i<s.cells.length;i++)if(s.cells[i].content.toLowerCase().indexOf(t)>=0){(!s.cells[i].hidden||s.cells[i].hidden&&n.config.search.includeHiddenColumns)&&(a=!0);break}return e&&a},!0)&&!a&&n.searchData.push(s)}),v.add(n.wrapper,"search-results"),n.searchData.length?n.update():(v.remove(n.wrapper,"search-results"),n.setMessage(n.config.labels.noRows)),this.emit("search",e,this.searchData)},page:function(e){return e!=this.currentPage&&(isNaN(e)||(this.currentPage=parseInt(e,10)),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.totalPages,!(e>this.totalPages||e<0)&&(this.rows().render(parseInt(e,10)),void this.emit("page",e)))},reset:function(){this.searching&&(this.searching=this.searchData=!1,v.remove(this.wrapper,"search-results")),f([].slice.call(this.inputs),function(e){e.value=null,e.blur()}),this.update(),this.emit("reset")},set:function(e,t){this.hasOwnProperty(e)&&(this[e]=t,v.toggle(this.wrapper,"dt-"+e,this[e]),this.update())},setPerPage:function(e){isNaN(e)||(e=parseInt(e,10),this.config.perPage=e,this.fixHeight(),this.config.perPageSelect.indexOf(e)>=0&&f([].slice.call(this.selectors),function(t){t.value=e}),this.update(),this.emit("perpage",e))},import:function(e){var t=this,n=!1,s={lineDelimiter:"\n",columnDelimiter:","};if(!l(e))return!1;if((e=u(s,e)).data.length||l(e.data)){if("csv"===e.type){n={data:[]};var a=e.data.split(e.lineDelimiter);a.length&&(e.headings&&(n.headings=a[0].split(e.columnDelimiter),a.shift()),f(a,function(t,s){n.data[s]=[];var a=t.split(e.columnDelimiter);a.length&&f(a,function(e){n.data[s].push(e)})}))}else if("json"===e.type){var i=d(e.data);if(!i)throw new Error("That's not valid JSON!");n={headings:[],data:[]},f(i,function(e,t){n.data[t]=[],f(e,function(e,s){n.headings.indexOf(s)<0&&n.headings.push(s),n.data[t].push(e)})})}l(e.data)&&(n=e.data),n&&(n.headings&&(this.table.hasHeader||this.table.addHeader(n.headings,!0),f(n.headings,function(e,n){t.table.header.cells[n].setContent(e)}),this.columns().init()),this.table.rows.length||(this.currentPage=1),this.rows().add(n.data))}return!1},setMessage:function(e){var t=1;this.rows().count()&&(t=this.columns().count());var n=p("tr",{html:'<td class="dataTables-empty" colspan="'+t+'">'+e+"</td>"});b(this.table.body),this.table.body.appendChild(n)},columns:function(e){return new H(this,e)},rows:function(e){return new D(this,e)},on:function(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)},off:function(e,t){this.events=this.events||{},e in this.events!=!1&&this.events[e].splice(this.events[e].indexOf(t),1)},emit:function(e){if(this.events=this.events||{},e in this.events!=!1)for(var t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))},destroy:function(){var e=this,t=e.config,s=e.table;v.remove(s.node,t.classes.table),f(s.header.cells,function(e){e.node.style.width="",v.remove(e.node,t.classes.sorter)});var a=n.createDocumentFragment();b(s.body),f(s.rows,function(e){a.appendChild(e.node)}),s.body.appendChild(a),this.wrapper.parentNode.replaceChild(s.node,this.wrapper),this.rendered=!1,this.initialised=!1,f(o,function(t){void 0!==e[t]&&"function"==typeof e[t]&&e[t].destroy&&"function"==typeof e[t].destroy&&e[t].destroy()})}},N.extend=function(e,t){"function"==typeof t?N.prototype[e]=t:N[e]=t},N});